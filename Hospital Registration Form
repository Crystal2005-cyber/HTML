<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Hospital Registration Form</title>
</head>
<body>

<h2>Hospital Registration Form</h2>

<form onsubmit="return validateForm()">

<label>Patient ID:</label><br>
<input type="text" id="patientId" readonly><br><br>

<label>First Name:</label><br>
<input type="text" id="fname"><br><br>

<label>Last Name:</label><br>
<input type="text" id="lname"><br><br>

<label>Date of Birth (DOB):</label><br>
<input type="date" id="dob"><br><br>

<label>Age:</label><br>
<input type="text" id="age"><br><br>

<label>Email ID:</label><br>
<input type="text" id="email"><br><br>

<label>Gender:</label><br>
<select id="gender">
    <option value="">-- Select Gender --</option>
    <option>Male</option>
    <option>Female</option>
    <option>Other</option>
</select><br><br>

<label>Phone Number:</label><br>
<input type="text" id="phone"><br><br>

<label>Emergency Contact:</label><br>
<input type="text" id="emergency"><br><br>

<label>Symptoms:</label><br>
<textarea id="symptoms" rows="4" cols="30"></textarea><br><br>

<label>Doctor / Specialist:</label><br>
<select id="doctor">
    <option value="">-- Select Doctor --</option>
    <option>General Physician</option>
    <option>Cardiologist</option>
    <option>Neurologist</option>
    <option>Orthopedic</option>
    <option>Dermatologist</option>
    <option>Pediatrician</option>
</select><br><br>

<label>Patient Type:</label><br>
<select id="ptype" onchange="calculateCharges()">
    <option value="">-- Select Type --</option>
    <option value="OPD">OPD</option>
    <option value="NON-OPD">Non-OPD / Admission</option>
</select><br><br>

<label>Charges (â‚¹):</label><br>
<input type="text" id="charges" readonly><br><br>

<input type="submit" value="Register Patient">

</form>

<p id="error" style="color:red;"></p>

<script>
function generatePatientID() {
    let id = "PAT" + Math.floor(Math.random() * 90000 + 10000);
    document.getElementById("patientId").value = id;
}
generatePatientID();

function calculateCharges() {
    let type = document.getElementById("ptype").value;
    if (type === "OPD") document.getElementById("charges").value = "300";
    else if (type === "NON-OPD") document.getElementById("charges").value = "1500";
    else document.getElementById("charges").value = "";
}

function validateForm() {

    let fname = document.getElementById("fname").value.trim();
    let age = document.getElementById("age").value.trim();
    let phone = document.getElementById("phone").value.trim();
    let symptoms = document.getElementById("symptoms").value.trim();

    let error = "";

    if (fname === "") error = "First name required.";
    else if (age === "" || isNaN(age) || Number(age) <= 0) error = "Enter valid age.";
    else if (phone.length !== 10 || isNaN(phone)) error = "Enter valid phone number.";
    else if (symptoms.length < 3) error = "Enter symptoms correctly.";

    if (error !== "") {
        document.getElementById("error").innerHTML = error;
        return false;
    }

    alert("Form submitted successfully!");
    return false; 
}
</script>

</body>
</html>

